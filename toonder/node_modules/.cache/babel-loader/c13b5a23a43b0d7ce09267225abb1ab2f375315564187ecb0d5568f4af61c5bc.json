{"ast":null,"code":"var _jsxFileName = \"/Users/louis/Desktop/toonder/2023_1_Toonder/toonder/src/component/main/mypage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './mainPage.css';\nimport MainBackgorund from '../backgrounds/mainBackground';\nimport axios from 'axios';\nimport supabase from '../supabase';\nimport ex1 from '../../images/ex1.png';\nimport { FaSpinner } from 'react-icons/fa'; // 로딩 아이콘 추가\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Mypage() {\n  _s();\n  useEffect(() => {\n    document.title = 'Toonder 마이페이지';\n  }, []);\n  const [brdNo, setBrdNo] = useState([]);\n  const [isReviewLoading, setIsReviewLoading] = useState(true);\n  const [isBoardLoading, setIsBoardLoading] = useState(true);\n  const itemsPerPage = 3;\n  const navigate = useNavigate();\n  const [loggedUserName, setLoggedUserName] = useState(localStorage.getItem('loggedUserName'));\n  const [loggedUserHashTag, setLoggedUserHashTag] = useState(localStorage.getItem('loggedUserHashTag'));\n  const [modalOpen, setModalOpen] = useState(false);\n  const [boardData, setBoardData] = useState([]);\n  const [reviewData, setReviewData] = useState([]);\n  const [webId, setwebId] = useState([]);\n  const [webtoonTitles, setWebtoonTitles] = useState([]);\n  const [loggedUserImage, setLoggedUserImage] = useState(localStorage.getItem('loggedUserPhoto') || ex1);\n  const openModal = () => {\n    setModalOpen(true);\n  };\n  const closeModal = () => {\n    setModalOpen(false);\n  };\n  const [reviewStartIndex, setReviewStartIndex] = useState(0);\n  const handleReviewPrevious = () => {\n    if (reviewStartIndex >= itemsPerPage) {\n      setReviewStartIndex(reviewStartIndex - itemsPerPage);\n    }\n  };\n  const handleReviewNext = () => {\n    if (reviewStartIndex + itemsPerPage < webtoonTitles.length) {\n      setReviewStartIndex(reviewStartIndex + itemsPerPage);\n    }\n  };\n\n  // 나의 자유게시판 글 페이지 관련 상태 변수 및 이벤트 핸들러\n  const [postStartIndex, setPostStartIndex] = useState(0);\n  const handlePostPrevious = () => {\n    if (postStartIndex >= itemsPerPage) {\n      setPostStartIndex(postStartIndex - itemsPerPage);\n    }\n  };\n  const handlePostNext = () => {\n    if (postStartIndex + itemsPerPage < boardData.length) {\n      setPostStartIndex(postStartIndex + itemsPerPage);\n    }\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      const {\n        data\n      } = await supabase.auth.getSession();\n      const email = data.session.user.email;\n      const requestData = {\n        email: email\n      };\n      axios.post('toonder/mypage', requestData).then(hashData => {\n        setLoggedUserHashTag(hashData.data.mem_hashtag);\n        localStorage.setItem('loggedUserHashTag', hashData.data.mem_hashtag);\n      }).catch(error => console.log(error));\n      if (!localStorage.getItem('loggedUserName')) {\n        axios.post('toonder/name', requestData).then(loggedUserData => {\n          setLoggedUserName(loggedUserData.data.mem_name);\n          localStorage.setItem('loggedUserName', loggedUserData.data.mem_name);\n        }).catch(error => console.log(error));\n      }\n\n      //내 게시글 불러오기\n      axios.post('toonder/mypage/board/', requestData).then(boardRes => {\n        const data = boardRes.data; // 받아온 게시글 데이터\n        console.log(data);\n        const reversedData = [...data].reverse();\n        const titles = reversedData.map(review => review.brdTitle);\n        const brdNo = reversedData.map(review => review.brdNo);\n        setBoardData(titles);\n        setBrdNo(brdNo);\n        setIsBoardLoading(false);\n      }).catch(error => {\n        console.log('Error:', error);\n      });\n\n      // 리뷰 불러오기\n      axios.post('/toonder/mypage/review', requestData).then(reviewRes => {\n        const data = reviewRes.data; // 받아온 리뷰 데이터\n        console.log(data);\n        const reversedData = [...data].reverse();\n        const titles = reversedData.map(review => review.webtoon.title);\n        const contents = reversedData.map(review => review.revContent);\n        const webId = data.map(review => review.webtoon.mastrId);\n        setwebId(webId);\n        setWebtoonTitles(titles);\n        setReviewData(contents);\n        setIsReviewLoading(false);\n      }).catch(error => {\n        console.log('Error:', error);\n      });\n    };\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(MainBackgorund, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainUserInfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mainInfo\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: openModal,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"infoimg\",\n            src: loggedUserImage,\n            alt: \"image error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: loggedUserName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"changeInfo\",\n          onClick: () => {\n            navigate('/infochange');\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uC815\\uBCF4\\uC218\\uC815\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: loggedUserHashTag\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"subUserInfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"myReview\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uB098\\uC758 \\uB9AC\\uBDF0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          style: {\n            marginLeft: '30px'\n          },\n          children: isReviewLoading ?\n          /*#__PURE__*/\n          // 로딩 중일 때의 화면\n          _jsxDEV(\"div\", {\n            style: {\n              marginTop: '60px',\n              fontSize: '70px',\n              color: 'grey',\n              display: 'flex',\n              justifyContent: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(FaSpinner, {\n              className: \"loadingIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: webtoonTitles.slice(reviewStartIndex, reviewStartIndex + itemsPerPage).map((title, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '10px',\n                  marginLeft: '0px',\n                  width: '245px',\n                  whiteSpace: 'pre-wrap',\n                  wordBreak: 'break-all',\n                  minHeight: '40px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    marginBottom: '10px'\n                  },\n                  children: \"[\\uB9AC\\uBDF0]\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 25\n                }, this), reviewData[index + reviewStartIndex]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: () => {\n                  navigate('/mainwebtooninfo', {\n                    state: {\n                      mastrId: webId[index]\n                    }\n                  });\n                },\n                style: {\n                  marginTop: '-50px',\n                  marginLeft: '260px',\n                  width: '220px',\n                  whiteSpace: 'pre-wrap',\n                  wordBreak: 'break-all',\n                  minHeight: '50px'\n                },\n                children: [\"\\uD83D\\uDCD6 \", title]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  borderTop: '1px solid rgb(255, 147, 147)',\n                  width: '100%',\n                  margin: '10px 0 '\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              border: 'none',\n              backgroundColor: 'transparent',\n              position: 'relative',\n              top: '-260px',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              fontSize: '40px',\n              color: 'white',\n              width: '40px',\n              marginLeft: '450px',\n              marginRight: '0px',\n              outline: 'none'\n            },\n            onClick: handleReviewPrevious,\n            children: \"<\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleReviewNext,\n            style: {\n              border: 'none',\n              backgroundColor: 'transparent',\n              position: 'relative',\n              top: '-301px',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              fontSize: '40px',\n              color: 'white',\n              width: '40px',\n              marginLeft: '530px',\n              marginRight: '0px',\n              outline: 'none'\n            },\n            children: \">\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"myPost\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uB098\\uC758 \\uC790\\uC720\\uAC8C\\uC2DC\\uD310 \\uAE00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          style: {\n            marginLeft: '30px'\n          },\n          children: isBoardLoading ?\n          /*#__PURE__*/\n          // 로딩 중일 때의 화면\n          _jsxDEV(\"div\", {\n            style: {\n              marginTop: '60px',\n              fontSize: '70px',\n              color: 'grey',\n              display: 'flex',\n              justifyContent: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(FaSpinner, {\n              className: \"loadingIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: boardData.slice(postStartIndex, postStartIndex + itemsPerPage).map((title, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  marginBottom: '17px'\n                },\n                children: [' ', \"[\\uC81C\\uBAA9]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: () => {\n                  navigate('/postview', {\n                    state: {\n                      brdNo: brdNo[index]\n                    }\n                  });\n                },\n                children: [\"\\uD83D\\uDCDD \", title]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  borderTop: '1px solid rgb(255, 147, 147)',\n                  width: '100%',\n                  margin: '10px 0 '\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              border: 'none',\n              backgroundColor: 'transparent',\n              position: 'relative',\n              top: '-260px',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              fontSize: '40px',\n              color: 'white',\n              width: '40px',\n              marginLeft: '450px',\n              marginRight: '0px',\n              outline: 'none'\n            },\n            onClick: handlePostPrevious,\n            children: \"<\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              border: 'none',\n              backgroundColor: 'transparent',\n              position: 'relative',\n              top: '-301px',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              fontSize: '40px',\n              color: 'white',\n              width: '40px',\n              marginLeft: '530px',\n              marginRight: '0px',\n              outline: 'none'\n            },\n            onClick: handlePostNext,\n            children: \">\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: modalOpen && /*#__PURE__*/_jsxDEV(ModalBasic, {\n        setModalOpen: setModalOpen,\n        setLoggedUserImage: setLoggedUserImage,\n        openModal: openModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n_s(Mypage, \"jLtdayAXJ8HijQnAYlpwGXcu2qg=\", false, function () {\n  return [useNavigate];\n});\n_c = Mypage;\nfunction ModalBasic(_ref) {\n  _s2();\n  let {\n    setModalOpen,\n    setLoggedUserImage,\n    openModal\n  } = _ref;\n  const [selectedImage, setSelectedImage] = useState(localStorage.getItem('loggedUserPhoto') || ex1);\n  const [newImage, setNewImage] = useState(null);\n  const closeModal = () => {\n    setModalOpen(false);\n  };\n  const handleFileChange = event => {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setSelectedImage(reader.result);\n      setNewImage(file);\n    };\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSave = async () => {\n    if (newImage) {\n      console.log('새 이미지 저장:', newImage);\n      const {\n        data\n      } = await supabase.auth.getSession();\n      axios.post('toonder/photo/update', {\n        email: data.session.user.email,\n        image: selectedImage\n      }).then(res => console.log(res)).catch(error => console.log(error));\n      localStorage.setItem('loggedUserPhoto', selectedImage);\n      setLoggedUserImage(selectedImage);\n    }\n    closeModal();\n  };\n  const modalRef = useRef(null);\n  useEffect(() => {\n    const handler = event => {\n      if (modalRef.current && !modalRef.current.contains(event.target)) {\n        setModalOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handler);\n    return () => {\n      document.removeEventListener('mousedown', handler);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profilechangeback\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profilechange\",\n      ref: modalRef,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"changeinfoimg\",\n        src: selectedImage,\n        alt: \"image error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"changeFile\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"chooseFile\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD504\\uB85C\\uD544 \\uC0AC\\uC9C4 \\uBCC0\\uACBD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"chooseFile\",\n          name: \"chooseFile\",\n          accept: \"image/*\",\n          onChange: handleFileChange,\n          style: {\n            position: 'absolute',\n            right: '-200px',\n            top: '0px',\n            marginTop: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"changeButtonSet\",\n        style: {\n          marginTop: '25px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"submitButton\",\n          type: \"submit\",\n          onClick: handleSave,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uC800\\uC7A5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"cancel\",\n          onClick: closeModal,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 438,\n    columnNumber: 5\n  }, this);\n}\n_s2(ModalBasic, \"aicijC0uA+737GxOAkKr0WJtiBA=\");\n_c2 = ModalBasic;\nexport default Mypage;\nvar _c, _c2;\n$RefreshReg$(_c, \"Mypage\");\n$RefreshReg$(_c2, \"ModalBasic\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","MainBackgorund","axios","supabase","ex1","FaSpinner","jsxDEV","_jsxDEV","Mypage","_s","document","title","brdNo","setBrdNo","isReviewLoading","setIsReviewLoading","isBoardLoading","setIsBoardLoading","itemsPerPage","navigate","loggedUserName","setLoggedUserName","localStorage","getItem","loggedUserHashTag","setLoggedUserHashTag","modalOpen","setModalOpen","boardData","setBoardData","reviewData","setReviewData","webId","setwebId","webtoonTitles","setWebtoonTitles","loggedUserImage","setLoggedUserImage","openModal","closeModal","reviewStartIndex","setReviewStartIndex","handleReviewPrevious","handleReviewNext","length","postStartIndex","setPostStartIndex","handlePostPrevious","handlePostNext","fetchData","data","auth","getSession","email","session","user","requestData","post","then","hashData","mem_hashtag","setItem","catch","error","console","log","loggedUserData","mem_name","boardRes","reversedData","reverse","titles","map","review","brdTitle","reviewRes","webtoon","contents","revContent","mastrId","children","className","onClick","id","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","style","marginLeft","marginTop","fontSize","color","display","justifyContent","slice","index","width","whiteSpace","wordBreak","minHeight","marginBottom","state","borderTop","margin","border","backgroundColor","position","top","alignItems","marginRight","outline","ModalBasic","_c","_ref","_s2","selectedImage","setSelectedImage","newImage","setNewImage","handleFileChange","event","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleSave","image","res","modalRef","handler","current","contains","addEventListener","removeEventListener","ref","htmlFor","type","name","accept","onChange","right","_c2","$RefreshReg$"],"sources":["/Users/louis/Desktop/toonder/2023_1_Toonder/toonder/src/component/main/mypage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './mainPage.css';\nimport MainBackgorund from '../backgrounds/mainBackground';\nimport axios from 'axios';\nimport supabase from '../supabase';\nimport ex1 from '../../images/ex1.png';\nimport { FaSpinner } from 'react-icons/fa'; // 로딩 아이콘 추가\n\nfunction Mypage() {\n  useEffect(() => {\n    document.title = 'Toonder 마이페이지';\n  }, []);\n  const [brdNo, setBrdNo] = useState([]);\n  const [isReviewLoading, setIsReviewLoading] = useState(true);\n  const [isBoardLoading, setIsBoardLoading] = useState(true);\n  const itemsPerPage = 3;\n  const navigate = useNavigate();\n  const [loggedUserName, setLoggedUserName] = useState(\n    localStorage.getItem('loggedUserName')\n  );\n  const [loggedUserHashTag, setLoggedUserHashTag] = useState(\n    localStorage.getItem('loggedUserHashTag')\n  );\n  const [modalOpen, setModalOpen] = useState(false);\n  const [boardData, setBoardData] = useState([]);\n  const [reviewData, setReviewData] = useState([]);\n  const [webId, setwebId] = useState([]);\n  const [webtoonTitles, setWebtoonTitles] = useState([]);\n  const [loggedUserImage, setLoggedUserImage] = useState(\n    localStorage.getItem('loggedUserPhoto') || ex1\n  );\n  const openModal = () => {\n    setModalOpen(true);\n  };\n\n  const closeModal = () => {\n    setModalOpen(false);\n  };\n\n  const [reviewStartIndex, setReviewStartIndex] = useState(0);\n  const handleReviewPrevious = () => {\n    if (reviewStartIndex >= itemsPerPage) {\n      setReviewStartIndex(reviewStartIndex - itemsPerPage);\n    }\n  };\n  const handleReviewNext = () => {\n    if (reviewStartIndex + itemsPerPage < webtoonTitles.length) {\n      setReviewStartIndex(reviewStartIndex + itemsPerPage);\n    }\n  };\n\n  // 나의 자유게시판 글 페이지 관련 상태 변수 및 이벤트 핸들러\n  const [postStartIndex, setPostStartIndex] = useState(0);\n  const handlePostPrevious = () => {\n    if (postStartIndex >= itemsPerPage) {\n      setPostStartIndex(postStartIndex - itemsPerPage);\n    }\n  };\n  const handlePostNext = () => {\n    if (postStartIndex + itemsPerPage < boardData.length) {\n      setPostStartIndex(postStartIndex + itemsPerPage);\n    }\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      const { data } = await supabase.auth.getSession();\n      const email = data.session.user.email;\n      const requestData = {\n        email: email,\n      };\n\n      axios\n        .post('toonder/mypage', requestData)\n        .then((hashData) => {\n          setLoggedUserHashTag(hashData.data.mem_hashtag);\n          localStorage.setItem('loggedUserHashTag', hashData.data.mem_hashtag);\n        })\n        .catch((error) => console.log(error));\n\n      if (!localStorage.getItem('loggedUserName')) {\n        axios\n          .post('toonder/name', requestData)\n          .then((loggedUserData) => {\n            setLoggedUserName(loggedUserData.data.mem_name);\n            localStorage.setItem(\n              'loggedUserName',\n              loggedUserData.data.mem_name\n            );\n          })\n          .catch((error) => console.log(error));\n      }\n\n      //내 게시글 불러오기\n      axios\n        .post('toonder/mypage/board/', requestData)\n        .then((boardRes) => {\n          const data = boardRes.data; // 받아온 게시글 데이터\n          console.log(data);\n          const reversedData = [...data].reverse();\n          const titles = reversedData.map((review) => review.brdTitle);\n          const brdNo = reversedData.map((review) => review.brdNo);\n          setBoardData(titles);\n          setBrdNo(brdNo);\n          setIsBoardLoading(false);\n        })\n        .catch((error) => {\n          console.log('Error:', error);\n        });\n\n      // 리뷰 불러오기\n      axios\n        .post('/toonder/mypage/review', requestData)\n        .then((reviewRes) => {\n          const data = reviewRes.data; // 받아온 리뷰 데이터\n          console.log(data);\n          const reversedData = [...data].reverse();\n          const titles = reversedData.map((review) => review.webtoon.title);\n          const contents = reversedData.map((review) => review.revContent);\n          const webId = data.map((review) => review.webtoon.mastrId);\n          setwebId(webId);\n          setWebtoonTitles(titles);\n          setReviewData(contents);\n\n          setIsReviewLoading(false);\n        })\n        .catch((error) => {\n          console.log('Error:', error);\n        });\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <MainBackgorund>\n      <div className=\"mainUserInfo\">\n        <div className=\"mainInfo\">\n          <div onClick={openModal}>\n            <img id=\"infoimg\" src={loggedUserImage} alt=\"image error\" />\n          </div>\n          <h2>{loggedUserName}</h2>\n          <button\n            id=\"changeInfo\"\n            onClick={() => {\n              navigate('/infochange');\n            }}\n          >\n            <h3>정보수정</h3>\n          </button>\n        </div>\n\n        <h1>{loggedUserHashTag}</h1>\n      </div>\n\n      <div className=\"subUserInfo\">\n        <div className=\"myReview\">\n          <h2>나의 리뷰</h2>\n          <section style={{ marginLeft: '30px' }}>\n            {isReviewLoading ? ( // 로딩 중일 때의 화면\n              <div\n                style={{\n                  marginTop: '60px',\n                  fontSize: '70px',\n                  color: 'grey',\n                  display: 'flex',\n                  justifyContent: 'center',\n                }}\n              >\n                <FaSpinner className=\"loadingIcon\" />\n              </div>\n            ) : (\n              <ul>\n                {webtoonTitles\n                  .slice(reviewStartIndex, reviewStartIndex + itemsPerPage)\n                  .map((title, index) => (\n                    <div key={index}>\n                      <div\n                        style={{\n                          marginTop: '10px',\n                          marginLeft: '0px',\n                          width: '245px',\n                          whiteSpace: 'pre-wrap',\n                          wordBreak: 'break-all',\n                          minHeight: '40px',\n                        }}\n                      >\n                        <p\n                          style={{\n                            marginBottom: '10px',\n                          }}\n                        >\n                          [리뷰]\n                        </p>\n                        {reviewData[index + reviewStartIndex]}\n                      </div>\n\n                      <a\n                        onClick={() => {\n                          navigate('/mainwebtooninfo', {\n                            state: { mastrId: webId[index] },\n                          });\n                        }}\n                        style={{\n                          marginTop: '-50px',\n                          marginLeft: '260px',\n                          width: '220px',\n                          whiteSpace: 'pre-wrap',\n                          wordBreak: 'break-all',\n                          minHeight: '50px',\n                        }}\n                      >\n                        📖 {title}\n                      </a>\n                      <div\n                        style={{\n                          borderTop: '1px solid rgb(255, 147, 147)',\n                          width: '100%',\n                          margin: '10px 0 ',\n                        }}\n                      />\n                    </div>\n                  ))}\n              </ul>\n            )}\n          </section>\n          <div>\n            <button\n              style={{\n                border: 'none',\n                backgroundColor: 'transparent',\n                position: 'relative',\n                top: '-260px',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                fontSize: '40px',\n                color: 'white',\n                width: '40px',\n                marginLeft: '450px',\n                marginRight: '0px',\n                outline: 'none',\n              }}\n              onClick={handleReviewPrevious}\n            >\n              &#x3C;\n            </button>\n            <button\n              onClick={handleReviewNext}\n              style={{\n                border: 'none',\n                backgroundColor: 'transparent',\n                position: 'relative',\n                top: '-301px',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                fontSize: '40px',\n                color: 'white',\n                width: '40px',\n                marginLeft: '530px',\n                marginRight: '0px',\n                outline: 'none',\n              }}\n            >\n              &#x3E;\n            </button>\n          </div>\n        </div>\n        <div className=\"myPost\">\n          <h2>나의 자유게시판 글</h2>\n          <section style={{ marginLeft: '30px' }}>\n            {isBoardLoading ? ( // 로딩 중일 때의 화면\n              <div\n                style={{\n                  marginTop: '60px',\n                  fontSize: '70px',\n                  color: 'grey',\n                  display: 'flex',\n                  justifyContent: 'center',\n                }}\n              >\n                <FaSpinner className=\"loadingIcon\" />\n              </div>\n            ) : (\n              <ul>\n                {boardData\n                  .slice(postStartIndex, postStartIndex + itemsPerPage)\n                  .map((title, index) => (\n                    <div key={index}>\n                      <p\n                        style={{\n                          marginBottom: '17px',\n                        }}\n                      >\n                        {' '}\n                        [제목]\n                      </p>\n                      <a\n                        onClick={() => {\n                          navigate('/postview', {\n                            state: { brdNo: brdNo[index] },\n                          });\n                        }}\n                      >\n                        📝 {title}\n                      </a>\n                      <div\n                        style={{\n                          borderTop: '1px solid rgb(255, 147, 147)',\n                          width: '100%',\n                          margin: '10px 0 ',\n                        }}\n                      />\n                    </div>\n                  ))}\n              </ul>\n            )}\n          </section>\n          <div>\n            <button\n              style={{\n                border: 'none',\n                backgroundColor: 'transparent',\n                position: 'relative',\n                top: '-260px',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                fontSize: '40px',\n                color: 'white',\n                width: '40px',\n                marginLeft: '450px',\n                marginRight: '0px',\n                outline: 'none',\n              }}\n              onClick={handlePostPrevious}\n            >\n              &#x3C;\n            </button>\n            <button\n              style={{\n                border: 'none',\n                backgroundColor: 'transparent',\n                position: 'relative',\n                top: '-301px',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                fontSize: '40px',\n                color: 'white',\n                width: '40px',\n                marginLeft: '530px',\n                marginRight: '0px',\n                outline: 'none',\n              }}\n              onClick={handlePostNext}\n            >\n              &#x3E;\n            </button>\n          </div>\n        </div>\n      </div>\n      <div>\n        {modalOpen && (\n          <ModalBasic\n            setModalOpen={setModalOpen}\n            setLoggedUserImage={setLoggedUserImage}\n            openModal={openModal}\n          />\n        )}\n      </div>\n    </MainBackgorund>\n  );\n}\n\nfunction ModalBasic({ setModalOpen, setLoggedUserImage, openModal }) {\n  const [selectedImage, setSelectedImage] = useState(\n    localStorage.getItem('loggedUserPhoto') || ex1\n  );\n  const [newImage, setNewImage] = useState(null);\n\n  const closeModal = () => {\n    setModalOpen(false);\n  };\n\n  const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n\n    reader.onloadend = () => {\n      setSelectedImage(reader.result);\n      setNewImage(file);\n    };\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSave = async () => {\n    if (newImage) {\n      console.log('새 이미지 저장:', newImage);\n\n      const { data } = await supabase.auth.getSession();\n      axios\n        .post('toonder/photo/update', {\n          email: data.session.user.email,\n          image: selectedImage,\n        })\n        .then((res) => console.log(res))\n        .catch((error) => console.log(error));\n\n      localStorage.setItem('loggedUserPhoto', selectedImage);\n      setLoggedUserImage(selectedImage);\n    }\n\n    closeModal();\n  };\n\n  const modalRef = useRef(null);\n\n  useEffect(() => {\n    const handler = (event) => {\n      if (modalRef.current && !modalRef.current.contains(event.target)) {\n        setModalOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handler);\n\n    return () => {\n      document.removeEventListener('mousedown', handler);\n    };\n  }, []);\n\n  return (\n    <div className=\"profilechangeback\">\n      <div className=\"profilechange\" ref={modalRef}>\n        <img id=\"changeinfoimg\" src={selectedImage} alt=\"image error\" />\n        <div id=\"changeFile\">\n          <label htmlFor=\"chooseFile\">\n            <h3>프로필 사진 변경</h3>\n          </label>\n        </div>\n        <div style={{ position: 'relative' }}>\n          <input\n            type=\"file\"\n            id=\"chooseFile\"\n            name=\"chooseFile\"\n            accept=\"image/*\"\n            onChange={handleFileChange}\n            style={{\n              position: 'absolute',\n              right: '-200px',\n              top: '0px',\n              marginTop: '10px',\n            }}\n          />\n        </div>\n        <div id=\"changeButtonSet\" style={{ marginTop: '25px' }}>\n          <button id=\"submitButton\" type=\"submit\" onClick={handleSave}>\n            <h3>저장</h3>\n          </button>\n          <br />\n          <button id=\"cancel\" onClick={closeModal}>\n            <h3>취소</h3>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Mypage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}